!function(){function t(t){var e=document.getElementById("agree-num"),n=document.getElementById("post-title").innerHTML,t=EventUtil.getEvent(t),o=(EventUtil.getTarget(t),"/agree/"+a+"/"+n),l=JSON.stringify({author:a,title:n});ajax("post",o,"application/json",l,function(t){console.log(JSON.parse(t).agree),e.innerHTML=parseInt(JSON.parse(t).agree),JSON.parse(t).isAgree?s[0].style.color="#EF5959":s[0].style.color="#ccc"})}function e(t){console.log("collection");var e=document.getElementById("post-title").innerHTML,n=document.getElementById("post-author").innerHTML,t=EventUtil.getEvent(t),o=(EventUtil.getTarget(t),"/collect/"+n+"/"+e),l=JSON.stringify({author:n,title:e});ajax("post",o,"application/json",l,function(t){JSON.parse(t).isColl?g[0].style.color="#EF5959":g[0].style.color="#ccc"})}function n(t){console.log("collection");var e=(document.getElementById("post-title").innerHTML,document.getElementById("post-author").innerHTML),n="/attention/"+e,o=JSON.stringify({author:e});ajax("post",n,"application/json",o,function(t){console.log(typeof t),"add"==JSON.parse(t).isAttention?(console.log("qquxia"),i.innerHTML="取消关注"):(console.log("ia"),i.innerHTML="关注")})}var o=document.getElementById("agree"),l=document.getElementById("collect"),i=document.getElementById("attention"),c=document.getElementById("post-author");if(c)var a=c.innerHTML;if(o){var r=o.getAttribute("data"),s=o.getElementsByTagName("i");"true"==r&&(s[0].style.color="#EF5959")}if(l){var d=l.getAttribute("data"),g=l.getElementsByTagName("i");"true"==d&&(g[0].style.color="#EF5959")}var u=document.getElementById("post-delete");if(i){var m=i.getAttribute("data");m&&"true"==m&&(i.innerHTML="取消关注")}EventUtil.addHandler(o,"click",t),EventUtil.addHandler(l,"click",e),i&&EventUtil.addHandler(i,"click",n),console.log(u),EventUtil.addHandler(u,"click",function(){var t=document.querySelector(".p2"),e=Popuper({wrap:t,type:"success",confirm:function(){},cancel:function(){}}).edit({title:"提示",content:"是否删除该文章"}).show();e.toggle().edit({type:"info"})})}();